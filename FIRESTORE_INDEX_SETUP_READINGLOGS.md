# Firestore 인덱스 설정 가이드 - readingLogs

책 추가 시 발생하는 인덱스 오류를 해결하기 위한 가이드입니다.

## 문제

책을 추가할 때 다음과 같은 오류가 발생합니다:
```
The query requires an index. You can create it here: [링크]
```

이 오류는 `readingLogs` 컬렉션에서 `userId`로 필터링하고 `date`로 정렬하는 쿼리를 실행할 때 발생합니다.

## 해결 방법

### 방법 1: 오류 메시지의 링크 사용 (가장 빠름)

1. 오류 메시지에 표시된 링크를 클릭합니다.
2. Firebase Console에서 인덱스 생성 페이지로 이동합니다.
3. **인덱스 만들기** 버튼을 클릭합니다.
4. 인덱스가 생성될 때까지 기다립니다 (보통 몇 분 소요).

### 방법 2: Firebase Console에서 수동 생성

1. [Firebase Console](https://console.firebase.google.com/)에 접속합니다.
2. 프로젝트 `class-read-book`를 선택합니다.
3. 왼쪽 메뉴에서 **Firestore Database**를 클릭합니다.
4. 상단 탭에서 **인덱스**를 클릭합니다.
5. **인덱스 만들기** 버튼을 클릭합니다.
6. 다음 정보를 입력합니다:
   - **컬렉션 ID**: `readingLogs`
   - **쿼리 범위**: 컬렉션
   - **필드 추가**:
     - 필드: `userId`, 정렬: 오름차순
     - 필드: `date`, 정렬: 내림차순
7. **만들기** 버튼을 클릭합니다.

## 필요한 인덱스

다음 인덱스가 필요합니다:

### readingLogs 컬렉션
- **필드**: `userId` (오름차순), `date` (내림차순)
- **용도**: 사용자의 독서 기록을 날짜순으로 조회

## 인덱스 생성 확인

인덱스가 생성되면 Firebase Console의 인덱스 목록에 표시됩니다. 상태가 "사용 가능"이 되면 정상적으로 작동합니다.

## 참고사항

- 인덱스 생성에는 보통 1-5분 정도 소요됩니다.
- 인덱스가 생성되는 동안에는 해당 쿼리를 사용할 수 없습니다.
- 인덱스는 한 번 생성하면 자동으로 유지됩니다.

